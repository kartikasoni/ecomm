{% extends "app/base.html" %}
{% load static %}

{% block title %}Your Wishlist{% endblock title %}

{% block main-content %}
<div class="container my-4">
    <h2 class="mb-3">Your Wishlist</h2>

    {% if wishlist_items %}
        <div class="row g-3">
            {% for w in wishlist_items %}
            <div class="col-md-6 col-lg-4">
                <div class="card h-100">
                    {% if w.product.image_url %}
                        <img src="{{ w.product.image_url.url }}" class="card-img-top" alt="{{ w.product.name }}">
                    {% endif %}
                    <div class="card-body d-flex flex-column">
                        <h6 class="card-title mb-1">{{ w.product.name }}</h6>
                        <p class="text-muted small mb-2">{{ w.product.category }}</p>
                        <p class="fw-bold mb-3">â‚¹ {{ w.product.price }}</p>

                        <div class="mt-auto d-flex flex-wrap gap-2">
                            <a class="btn btn-sm btn-primary"
                               href="{% url 'move_to_cart' w.id %}">
                                Move to Cart
                            </a>

                            <a class="btn btn-sm btn-outline-danger"
                               href="{% url 'remove_from_wishlist' w.id %}">
                                Remove
                            </a>

                            <a class="btn btn-sm btn-outline-secondary"
                               href="{% url 'product_detail' w.product.product_id %}">
                                View
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="alert alert-info">Your wishlist is empty.</div>
        <a class="btn btn-primary" href="{% url 'product_list' %}">View products</a>
    {% endif %}
</div>
{% endblock main-content %}
